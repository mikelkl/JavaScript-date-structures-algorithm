<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>事件委托</title>
</head>
<body>
<ul id="myLinks">
    <li id="goSomewhere">Go somewhere</li>
    <li id="doSomething">Do something</li>
    <li id="sayHi">Say hi</li>
</ul>

<script src="../EvenUtil.js"></script>
<script>
    /*对“事件处理程序过多”问题的解决方案就是事件委托。事件委托利用了事件冒泡，只指定一个事
     件处理程序，就可以管理某一类型的所有事件。例如，click 事件会一直冒泡到document 层次。也就
     是说，我们可以为整个页面指定一个onclick 事件处理程序，而不必给每个可单击的元素分别添加事
     件处理程序。*/
    var list = document.getElementById('myLinks');

    EventUtil.addHandler(list, 'click', function (event) {
        event = EventUtil.getEvent(event);
        var target = EventUtil.getTarget(event);

        switch (target.id) {
            case 'doSomething':
                document.title = "I changed the document's title";
                break;
            case 'goSomewhere':
                location.href = "http://www.163.com";
                break;
            case 'sayHi':
                alert('hi');
                break;
        }
    })
</script>
</body>
</html>